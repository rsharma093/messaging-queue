# Queue Microservice

Design and Implement a Queueing Microservice to track the number of processes in Queue and
process them in order. The service should be deployable and be able to track the progress and
requests kept in queue.

Design Constraints:
1. Introduce the following services:
    * `/add`: To add a request to call internal functions with a priority and other
    functional parameters. Should generate an id.
    * `/status`: Should provide the status only of the queued processes.
    * `/status/{id}`: To get the status of the process if it is completed or in progress.
    * `/output/{id}`: To get the status of the output generated by process of the
    respective id.

2. Provide proper logging wherever required.
3. Take support of external DB if required.
4. Functions should be time awaited internal functions and should be really simple.
5. Please write your code in python only!


## Building

It is best to use the python `virtualenv` tool to build locally:

```sh
$ virtualenv -p python3.7 venv
$ source venv/bin/activate
$ pip install -r requirements.txt
```
## Run FastAPI server
Run the fastapi server by running main.py.
```sh
$ python main.py
```

## Run Queue Server
Run the queue server by running task.py.
```sh
$ python task.py start-queue
```

## Postman Collection
You can check the postman collection to run APIs [here](https://github.com/rsharma093/messaging-queue/blob/master/apis.postman_collection.json).
